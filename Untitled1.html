<!doctype html>
<html lang="zh-cmn-Hans">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="MobileOptimized" content="320">
  <meta name="HandheldFriendly" content="true">
  <meta name="format-detection" content="telephone=no, email=no">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Document</title>
  <style type="text/css">
	.ym_alert{width:250px;border:1px solid #ccc;box-shadow:1px 1px 50px rgba(0,0,0,.3);background:#fff;position:fixed;font-size:12px;color:#666;z-index:999;
	-webkit-animation:showAlert 0.3s;-moz-animation:showAlert 0.3s;-o-animation:showAlert 0.3s;animation:showAlert 0.3s;}
	.ym_alert .title{padding:0 20px;height:40px;line-height:40px;font-family:"微软雅黑";color:#000;font-size:14px;}
	.ym_alert .content{padding:20px;font-size:14px;font-family:"微软雅黑";}
	.ym_alert .bottom{text-align:right;padding:20px 10px 10px 20px}
	.ym_alert .bottom span{display:inline-block;padding:0 20px;height:28px;line-height:28px;border-radius:4px;font-size:12px;cursor:pointer;}
	.ym_alert .bottom .close{background:#ccc;}
	.ym_alert .bottom .sure{background:#2e8ded;color:#fff;margin-right:10px;}
	.ym_overlay{position:absolute;left:0;top:0;background:#000;opacity:0.5;width:100%;height:100%;}
	.ym_loading{padding:10px 20px;border-radius:5px;box-shadow:1px 1px 50px rgba(0,0,0,.3);background:#fff;z-index:999;position:absolute;font-size:12px;font-family:"微软雅黑";animation:showAlert 0.3s;}
	@-webkit-keyframes showAlert{
		0%{
			-webkit-transform:scale(0.7);
		}
		45%{
			-webkit-transform:scale(1.05);
		}
		80%{
			-webkit-transform:scale(0.95);
		}
		100%{
			-webkit-transform:scale(1);
		}
	}
	@-moz-keyframes showAlert{
		0%{
			-moz-transform:scale(0.7);
		}
		45%{
			-moz-transform:scale(1.05);
		}
		80%{
			-moz-transform:scale(0.95);
		}
		100%{
			-moz-transform:scale(1);
		}
	}
	@-o-keyframes showAlert{
		0%{
			-o-transform:scale(0.7);
		}
		45%{
			-o-transform:scale(1.05);
		}
		80%{
			-o-transform:scale(0.95);
		}
		100%{
			-o-transform:scale(1);
		}
	}
	@keyframes showAlert{
		0%{
			transform:scale(0.7);
		}
		45%{
			transform:scale(1.05);
		}
		80%{
			transform:scale(0.95);
		}
		100%{
			transform:scale(1);
		}
	}

	.box{width:240px;font-size:12px;text-align:center;background:#fff;box-shadow:1px 1px 50px rgba(0,0,0,.3);}
	.box li, .box ul{margin:0;padding:0;}
	.box li{list-style:none;}
	.box li:last-child{padding-bottom:20px;}
	.box .title{font-size:18px;font-weight:bold;padding:20px 0;}
	.box input{width:200px;font-size:14px;padding:0 10px;outline:none;border:1px solid #e0e0e0;height:40px;line-height:40px;margin-bottom:14px;}
	.box button{width:220px;height:40px;border:none;outline:none;color:#fff;background:#81bfef;font-size:14px;margin:20px 0;}
	.box a{text-decoration:none;color:#757575;display:inline-block;padding:0 10px;}

	.password_box{width:300px;height:200px;border:1px solid red;box-sizing:border-box;position:absolute;left:0;top:0;right:0;bottom:0;margin:auto;}
	.password_box .password_inner{display:-webkit-flex;display:flex;border:1px solid red;height:50px;width:100%;position:absolute;top:0;bottom:0;margin:auto;l}
	.password_box .password_inner input{outline:none;border:1px solid red;-webkit-flex:1;flex:1;text-align:center;}
	.password_box .password_input{width:100%;border:none;box-sizing:border-box;height:50px;position:absolute;top:0;bottom:0;margin:auto;}
  </style>
 </head>
 <body>
	<div id="show">点击</div>
	<div class="password_box" style="display:none;">
		<!--<input class="password_input" type="text" autofocus="true" id="input" maxlength="6" />-->
		<div class="password_inner" id="password_inner">
			<input type="text" maxlength="1" onkeyup="changeFocus(this)" />
			<input type="text" maxlength="1" onkeyup="changeFocus(this)" />
			<input type="text" maxlength="1" onkeyup="changeFocus(this)" />
			<input type="text" maxlength="1" onkeyup="changeFocus(this)" />
			<input type="text" maxlength="1" onkeyup="changeFocus(this)" />
			<input type="text" maxlength="1" onkeyup="changeFocus(this)" />
		</div>
	</div>
	
	<script type="text/javascript">
		/*交易密码输入框*/
		var password_inner= document.querySelector("#password_inner");
		var inputs = password_inner.getElementsByTagName("input");
		var index = 0;
		function changeFocus(obj){
			index++;
			if(index >= 6){
				return;
			}
			console.log(index);
			inputs[index].focus();
			
		}

		(function(win,doc){
			 var utils = {
				append : function(target, str){
					var dom = typeof target === "string" ? document.querySelector(target) : target;
					var div = document.createElement("div");
					div.innerHTML = str;
					while(div.firstChild){
						dom.appendChild(div.firstChild);
					}
				},

				remove : function(target, ele){
					var dom = typeof target === "string" ? document.querySelector(target) : target;
					dom.removeChild(ele);
				},

				center : function(target){
					var width2 = window.innerWidth;
					var height2 = window.innerHeight;
					if(width2 <= 320){
						target.querySelector(".content").style.maxWidth = 200 + "px";
					}
					var width = target.offsetWidth;
					var height = target.offsetHeight;
					
					var x = (width2 - width) / 2;
					var y = (height2 - height) / 2;
					target.style.left = x + "px";
					target.style.top = y + "px";
					var _this = this;
					window.addEventListener("resize",function(){
						_this.center(target);
					},false);
				},
				
				addEvent : function(el, type, fn, capture){
					el.addEventListener(type, fn, !!capture);
				},

				removeEvent : function(el, type, fn, capture){
					el.removeEventListener(type, fn, !!capture);
				}
			 }

			win.ym_layer = {
				alert : function(msg,obj){
					this.obj = obj || {};
					this.template(msg);
					this.initEvents();
					this.bindEvent();
				},

				
				template : function(message){
					var title = "<div class='title'>信息</div>";
					var content = "<div class='content'>"+ message +"</div>";
					var loading = "<div class='ym_loading'>"+ message +"</div>";
					this.loading = loading;
					var btn_close = "<span class='btn_close'></span>";
					var bottom = "<div class='bottom'>";
					this.obj.btn = this.obj.btn || [];
					if(this.obj.btn.length == 0){
						bottom += "<span class='sure'>确定</span>";
					}
					for(var i = 0; i < this.obj.btn.length; i++){
						if(i == 0){
							bottom += "<span class='sure'>"+this.obj.btn[i]+"</span>";
						}else if(i == 1){
							bottom += "<span class='close'>"+this.obj.btn[i]+"</span>";
						}else{
							bottom += "<span class='ym_btn_"+i+"'>"+this.obj.btn[i]+"</span>";
						}
					}
	
					bottom += "</div>";
					var bottom2 = "<div class='bottom'><span class='sure'>确定</span><span class='close'>取消</span></div>";
					if(this.obj.type == 2 && this.obj.btn.length != 0){
						bottom = bottom;
					}else if(this.obj.type == 2 && this.obj.btn.length == 0){
						bottom = bottom2;
					}
					//bottom = this.obj.type == 2 ? bottom2 : bottom;
					var alert_template = "<div class='ym_alert'>"+ title + content + bottom+"</div>";
					var overlay = "<div class='ym_overlay'></div>";
					if(this.obj.type == 1){
						utils.append("body",loading);
						this.dialog = document.querySelector(".ym_loading");
						
					}else{
						utils.append("body",alert_template);
						this.dialog = document.querySelector(".ym_alert");
					}
					
					utils.append("body",overlay);
					
					this.overlay = document.querySelector(".ym_overlay");
					utils.center(this.dialog);
				},

				bindEvent : function(){
					var dialog = this.dialog;
					var overlay = this.overlay;
					var obj = this.obj;
					if(this.obj.type != 1){
						var sure = this.dialog.querySelector(".sure");
						var cancel = this.dialog.querySelector(".close");
						var loading= this.loading;
						var timer = null;
						if(sure != null){
							sure.onclick = function(){
								clearTimeout(timer);
								if(obj.sure) obj.sure(dialog);
								utils.remove("body", dialog);
								var loading2 = null;
				
								if(obj.showLoad){
									utils.append("body", loading);
									loading2 = document.querySelector(".ym_loading");
									loading2.textContent = "确定了";
									utils.center(loading2);
									timer = setTimeout(function(){
										if(obj.showLoad){
											utils.remove("body", loading2);
										}
										
										utils.remove("body", overlay);
									},800);
								}else{
									utils.remove("body", overlay);
								}
								
							};
						}
						
						if(cancel != null){
							cancel.onclick = function(){
								clearTimeout(timer);
								if(obj.cancel) obj.cancel(dialog);
								utils.remove("body", dialog);
								var loading2 = null;
								if(obj.showLoad){
									utils.append("body", loading);
									loading2 = document.querySelector(".ym_loading");
									loading2.textContent = "取消了";
									utils.center(loading2);
									timer = setTimeout(function(){
										if(obj.showLoad){
											utils.remove("body", loading2);
										}
										utils.remove("body", overlay);
									},1000);
								}else{
									utils.remove("body", overlay);
								}
								
							}
						}
						
					}
					this.overlay.onclick = function(){
						utils.remove("body", this);
						utils.remove("body",dialog);
					}
					
				},
				
				// 邦定事件
				initEvents : function(isRemove){
					var eventType = isRemove ? utils.removeEvent : utils.addEvent;
					var overlay = !!this.overlay ? this.overlay : document.querySelector(".ym_overlay");
					var sure = this.dialog.querySelector(".sure");
					var cancel = this.dialog.querySelector(".close");
					var loading= this.loading;
					eventType(overlay, "click", this, true);
					eventType(overlay, "touchstart", this);
					eventType(sure, "click", this, true);
					eventType(sure, "touchstart", this);
					eventType(cancel, "click", this, true);
					eventType(cancel, "touchstart", this);
					eventType(loading, "click", this, true);
					eventType(loading, "touchstart", this);
				},

				// 处理事件
				handleEvent : function(e){
					e.preventDefault();
					switch(e.type){
						case "click":
						case "touchstart" : 
							this.close(this.dialog);
					}
				},
				
				// 关闭弹层函数
				close : function(dialog){
					console.log("点击了");
					utils.remove("body", this.overlay);


					clearTimeout(timer);
					if(obj.sure) obj.sure(dialog);
					var loading2 = null;
	
					if(obj.showLoad == 'sure'){
						loading2.textContent = "确定了";
					}else if(obj.showLoad == 'cancel'){
						loading2.textContent = "取消了";
					}else{
						utils.remove("body", overlay);
					}


					if(obj.cancel) obj.cancel(dialog);
					utils.remove("body", dialog);
					if(obj.showLoad){
						utils.append("body", loading);
						loading2 = document.querySelector(".ym_loading");
						loading2.textContent = "取消了";
						utils.center(loading2);
						timer = setTimeout(function(){
							if(obj.showLoad){
								utils.remove("body", loading2);
							}
							utils.remove("body", overlay);
						},1000);
					}else{
						utils.remove("body", overlay);
					}
				},
				
				// 打开自定义弹层
				open : function(content,obj){
					obj = obj || {};

					// 在body下创建一个自定义box
					utils.append("body", content);

					// 获取新创建的box
					var boxEl = document.body.lastElementChild;
					
					// 在body中创建一个overlay
					var overlay = "<div class='ym_overlay'></div>";
					utils.append("body", overlay);

					// 获取新创建的overlay
					var overlayDom = document.querySelector(".ym_overlay");
					
					// 赋值
					this.overlay = overlayDom;
					this.dialog = boxEl;
					
					// 给弹层增加特效
					boxEl.style.animation = "showAlert 0.3s";
					boxEl.style.position = "fixed";
					boxEl.style.zIndex = "99999";
					boxEl.style.display = "block";
					
					// 初始化事件
					this.initEvents();
					// 居中弹框
					utils.center(boxEl);
					// 执行回调函数
					if(obj.callback) obj.callback(boxEl);
				}

			};
			
		})(window,document);
		//console.log(document.getElementById("show"));
		document.querySelector("#show").onclick = function(){
			/*ym_layer.alert("正在加载中...",{type:2,sure:function(){
				alert("你点击了删除按钮");
			}});*/
			//var login = document.querySelector(".box");
			/*ym_layer.open(login,{callback:function(overlay){
				overlay.onclick = function(){
					login.style.display = "none";
					document.querySelector("body").removeChild(this);
				}
				
			}});*/
			/*ym_layer.open("<div class='box'>"+
				"<ul>"+
				"	<li class='title'>优米账号登录</li>"+
				"	<li>"+
				"		<input type='text' placeholder='邮箱/手机号码/优米账号' />"+
				"	</li>"+
				"	<li>"+
				"		<input type='password' placeholder='密码' />"+
				"	</li>"+
				"	<li>"+
				"		<button class='btn'>立即登录</button>"+
				"	</li>"+
				"	<li>"+
				"		<a href='javascript:void(0)'>注册账号</a>"+
				"		<a href='javascript:void(0)'>忘记密码？</a>"+
				"	</li>"+
				"</ul>"+
			"</div>",{callback:function(box){
				box.querySelector(".btn").onclick = function(){
					alert();
				}
			}});*/
			//ym_layer.alert("你确定吗");
			ym_layer.alert(
				"你确定删除吗",
				{
					"type":2,
					showLoad : true,
					btn : ["支付成功"],
					sure:function(){
						alert();
					}
				}
			);
		}
		
	</script>
 </body>
</html>
<head>